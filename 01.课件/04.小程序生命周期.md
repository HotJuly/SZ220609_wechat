# 小程序生命周期

1. 小程序中,页面一共具有多少个生命周期
   1. 5个,进入阶段有3个,离开阶段有2个
2. 阶段划分
   1. 进入阶段
      1. onLoad
         1. 用于监视当前页面开始加载
         2. 类似于Vue中的created
         3. 只有在每个页面第一次挂载的时候才会触发(包括卸载之后再挂载也会触发)
         4. **使用场景:如果请求得到的某些数据的变化频率非常低,那么就可以在onLoad中请求**
      2. onShow(这是三个生命周期中最稳的一个)
         1. 用于监视当前页面开始显示
         2. 类似于Vue中的activated
         3. 每次显示页面,无论是怎么离开的,都一定会触发当前生命周期
         4. **使用场景:如果请求得到的某些数据的变化频率较高,那么就可以在onShow中请求**
            1. **说白了,就是每次显示页面都想展示最新结果,那么就在onShow**
      3. onReady
         1. 用于监视当前页面**首次**渲染成功
         2. 类似于Vue中的mounted
         3. 区别:渲染和挂载
            1. 这两个就不是同一个东西
            2. 挂载:将最新的DOM节点插入到html中
            3. 渲染:根据最新html内容,绘制出页面给用户看
            4. **挂载节点是同步操作,渲染页面是异步操作**
   2. 离开阶段
      1. onHide
         1. 用于监视当前页面开始隐藏
         2. 类似于Vue中的deactivated
         3. **如果使用wx.navigateTo离开当前页面,跳转到新的页面,那么就会触发当前页面的onHide生命周期**
            1. **因为wx.navigateTo离开页面的时候,不会卸载当前页面,他会缓存当前页面,留作下次使用**
      2. onUnload
         1. 用于监视当前页面开始卸载
         2. 类似于Vue中的beforeDestory
         3. **如果使用wx.redirectTo离开当前页面,跳转到新的页面,那么就会触发当前页面的onUnload生命周期**
            1. **而且下次显示当前页面的时候,由于wx.redirectTo已经卸载了上次的实例对象,本次显示需要重新挂载**
3. 扩展点
   1. 根据小程序的生命周期所示,onLoad执行的时候,页面应该看不到内容
   2. 但是根据实际的debugger效果,可以观察到,onLoad执行的时候可以看到初始页面
   3. 出现问题的原因,应该是debugger不准